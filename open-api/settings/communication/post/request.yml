type: object
properties:
  data:
    type: array
    items:
      type: object
      properties:
        type:
          type: string
          example: settings
        attributes:
          type: object
          description: Object containing attributes type, channel, enabled, manual, filter, configuration.
          properties:
            channel:
              $ref: ../../../shared-schemas/fields/communication-channels.yml
            enabled:
              type: boolean
              example: true
            manual:
              type: boolean
              example: true
              description: Only used for SNS channels, true for allowing users to manually send individual checks, false for disabling this option.
            filter:
              type: object
              properties:
                regions:
                  schema:
                    $ref: ../../../shared-schemas/fields/all-regions.yml
                  #   anyOf:
                  #     - $ref: ../../../shared-schemas/fields/aws-regions.yml
                  #     - $ref: ../../../shared-schemas/fields/azure-regions.yml
                services:
                  schema:
                    $ref: ../../../shared-schemas/types/filter-array.yml
                ruleIds:
                  type: array
                  description: An array of valid AWS rule Ids (e.g. ["S3-016", "EC2-001"]). For more information about rules, please refer to [Cloud Conformity Rules API](https://github.com/cloudconformity/documentation-api/blob/master/Rules.md)
                  items:
                    type: string
                    example: "S3-016"
                categories:
                  type: array
                  description: "An array of category (AWS well-architected framework category) strings from the following: security | cost-optimisation | reliability | performance-efficiency | operational-excellence"
                  items:
                    type: string
                    enum:
                      - security
                      - cost-optimisation
                      - reliability
                      - performance-efficiency
                      - operational-excellence
                    example: security
                riskLevels:
                  type: array
                  description: "An array of risk-level strings from the following: LOW| MEDIUM | HIGH | VERY_HIGH | EXTREME"
                  items:
                    type: string
                    enum:
                      - LOW
                      - MEDIUM
                      - HIGH
                      - VERY_HIGH
                      - EXTREME
                    example: LOW
                statuses:
                  type: array
                  description: "(only used for SNS channels) An array of statuses strings from the following: SUCCESS | FAILURE"
                  items:
                    type: string
                    example: SUCCESS
                tags:
                  type: array
                  description: An array of any assigned metadata tags to your AWS resources
                  items:
                    type: string
                    example: tagName
            configuration:
              type: object
              properties:
                all:
                  type: string
                  description: <code>configuration.channelName</code> is the label to display in the application (to distinguish between multiple instances of the same channel type). It is optional
                  example: someChannelName
                email:
                  type: string
                  description: <code>configuration.key</code> is "users", `configuration.value` is an array of verified users that have at least readOnly access to the account
                  example: user@example.com
                sms:
                  type: string
                  description: <code>configuration.key</code> is "users", `configuration.value` is an array of users with verified mobile numbers that have at least readOnly access to the account
                  example: "041-123-1234"
                slack:
                  type: object
                  description: Stringified object
                  properties:
                    url:
                      type: string
                      example: "https://hooks.slack.com/services/your-slack-webhook"
                    channel:
                      type: string
                      example: "#your-channel"
                    displayIntroducedBy:
                      type: boolean
                      description: true for adding user to message
                    displayResource:
                      type: boolean
                      description: true for adding resource to message
                    displayTags:
                      type: boolean
                      description: true for adding associated tags to message
                pager-duty:
                  type: object
                  description: Stringified object
                  properties:
                    serviceName:
                      type: string
                      description: Your service name
                      example: yourServiceName
                    serviceKey:
                      type: string
                      description: Your service key
                      example: yourServiceKey
                sns:
                  type: object
                  description: Stringified object
                  properties:
                    arn:
                      type: string
                      example: "arn:aws:sns:REGION:ACCOUNT_ID:TOPIC_NAME"
                ms-teams:
                  type: object
                  description: Stringified object
                  properties:
                    url:
                      type: string
                      example: "https://outlook.office.com/webhook/your-msteams-webhook"
                    channel:
                      type: string
                      example: "#your-channel"
                    displayIntroducedBy:
                      type: boolean
                      description: true for adding user to message
                    displayResource:
                      type: boolean
                      description: true for adding resource to message
                    displayTags:
                      type: boolean
                      description: true for adding associated tags to message
                    displayExtraData:
                      type: boolean
                      description: true for adding associated extra data to message
        relationships:
          type: object
          properties:
            account:
              type: object
              properties:
                data:
                  type: object
                  description: <code>null</code> if only creating organization-level setting)
                  properties:
                    type:
                      type: string
                      example: accounts
                    accountId:
                      type: string
                      description: Cloud Conformity accountId
